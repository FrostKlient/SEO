<!doctype html>
<html lang="no">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Henrik - Student Programmering IT Medieproduksjon | Portfolio</title>
  <meta name="description" content="Henrik, 17 år gammel student på Breivang VGS. Programmering, IT, medieproduksjon, vektløfting og spillutvikling.">
  <meta name="keywords" content="Henrik, programmering, IT, medieproduksjon, Breivang VGS, student, portfolio, norsk utvikler">

  <!-- Open Graph tags -->
  <meta property="og:title" content="Henrik - Student Programmering IT Medieproduksjon">
  <meta property="og:description" content="Henrik, 17 år gammel student på Breivang VGS. Programmering, IT, medieproduksjon, vektløfting og spillutvikling.">
  <meta property="og:image" content="Image.png">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="no_NO">

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- scroll container med snap -->
  <div id="scroll-container">
    <!-- google seksjon -->
    <section id="google-section" class="snap-section">
      <div class="gradient-bg"></div>
      <canvas id="particles"></canvas>
      <canvas id="wave-canvas"></canvas>
      <div id="world"></div>
      <div id="darkModeToggle">
        <svg id="sunIcon" width="24" height="24" viewBox="0 0 24 24" fill="#333">
          <path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"/>
        </svg>
        <svg id="moonIcon" width="24" height="24" viewBox="0 0 24 24" fill="#333" style="display: none;">
          <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
        </svg>
      </div>
    </section>

    <!-- om meg seksjon -->
    <section id="about-section" class="snap-section">
      <iframe src="geometrydash.html" id="about-frame"></iframe>
    </section>
  </div>

  <script>
  const worldEl = document.getElementById('world');
  const bodies = new Set();
  let gravity = 180;
  let restitution = 0.75;

  // lag en fysikk body
  function createBody(el, opts={}){
    el.classList.add('body');
    worldEl.appendChild(el);
    const rect = el.getBoundingClientRect();
    const b = {
      el,
      w: rect.width, h: rect.height,
      x: opts.x ?? innerWidth/2 - rect.width/2 + (Math.random()-0.5)*120,
      y: opts.y ?? innerHeight/2 - rect.height/2 + (Math.random()-0.5)*120,
      vx: (opts.vx ?? (Math.random()*400-200)),
      vy: (opts.vy ?? (Math.random()*-200-50)),
      ang: opts.ang ?? (Math.random()*Math.PI*2),
      va: opts.va ?? (Math.random()*2-1)*2
    };
    bodies.add(b);
    drawBody(b);
    enableDrag(b);
    return b;
  }

  // tegn body på skjermen
  function drawBody(b){
    b.el.style.transform = `translate(${b.x}px, ${b.y}px) rotate(${b.ang}rad)`;
  }

  // gjør at du kan dræge ting
  function enableDrag(b){
    let dragging=false, last={x:0,y:0,t:0}, inputMode=false;

    window.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' && b.el.classList.contains('search')){
        inputMode = true;
        b.x = innerWidth/2 - b.w/2;
        b.y = innerHeight/2 - b.h/2;
        b.vx = b.vy = b.va = 0;
        drawBody(b);
        b.el.style.zIndex = '1000';
        const input = b.el.querySelector('#q');
        if(input) {
          input.focus();
          input.select();
        }
      }
      if(e.key === 'Escape'){
        inputMode = false;
        b.el.style.zIndex = '';
      }
    });

    const onDown = (e)=>{
      if(inputMode || e.target.tagName === 'INPUT' || e.target.tagName === 'BUTTON') return;
      dragging=true; e.preventDefault(); e.stopPropagation();
      const p = point(e); last={...p};
      b.vx = b.vy = b.va = 0;
      window.addEventListener('pointermove', onMove);
      window.addEventListener('pointerup', onUp, {once:true});
    };
    const onMove = (e)=>{
      if(!dragging || inputMode) return; const p = point(e);
      b.x += (p.x - last.x); b.y += (p.y - last.y);
      const dt = Math.max(0.001, (p.t - last.t)/1000);
      b.vx = (p.x - last.x)/dt; b.vy = (p.y - last.y)/dt; b.va = 0;
      last=p; drawBody(b);
    };
    const onUp = ()=>{ dragging=false; window.removeEventListener('pointermove', onMove); };
    b.el.addEventListener('pointerdown', onDown);
  }

  // hent musepeker posisjon
  function point(e){ return { x: e.clientX, y:e.clientY, t: performance.now() }; }

  // simulerings loop
  let prev = performance.now();
  function tick(){
    const now = performance.now();
    let dt = (now - prev)/1000; if(dt>0.05) dt = 0.05; prev = now;
    for(const b of bodies){
      b.vy += gravity*dt;
      b.x += b.vx*dt; b.y += b.vy*dt; b.ang += b.va*dt;
      if(b.x < 0){ b.x = 0; b.vx *= -restitution; b.va *= -1; }
      if(b.x + b.w > innerWidth){ b.x = innerWidth - b.w; b.vx *= -restitution; b.va *= -1; }
      if(b.y < 0){ b.y = 0; b.vy *= -restitution; b.va *= -1; }
      if(b.y + b.h > innerHeight){ b.y = innerHeight - b.h; b.vy *= -restitution; b.va *= -1; }
      drawBody(b);
    }
    requestAnimationFrame(tick);
  }
  requestAnimationFrame(tick);

  // lag google logo
  function makeLogo(){
    const logo = document.createElement('div'); logo.className='logo card';
    logo.innerHTML = `
      <span class="letter lG">G</span>
      <span class="letter lo1">o</span>
      <span class="letter lo2">o</span>
      <span class="letter lg">g</span>
      <span class="letter ll">l</span>
      <span class="letter le">e</span>`;
    createBody(logo, { vy:-300, va:0.8 });
  }

  // lag søkeboks
  function makeSearch(){
    const box = document.createElement('form'); box.className='search card';
    box.innerHTML = `
      <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      </svg>
      <input id="q" autocomplete="off" placeholder="Søk på Google eller skriv en URL"/>
      <svg class="mic" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z"/>
        <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z"/>
      </svg>`;
    const body = createBody(box, { vy:-200, vx:120, va:0.3 });

    // lag knapper under søkeboks
    setTimeout(() => {
      const buttons = document.createElement('div'); buttons.className='buttons card';
      buttons.style.display = 'flex'; buttons.style.gap = '11px'; buttons.style.padding = '12px';
      buttons.innerHTML = `
        <button class="btn" type="button" id="search-btn">Google-søk</button>
        <button class="btn" type="button" id="lucky">Jeg føler meg heldig</button>`;
      createBody(buttons, { y: body.y + 80, vy:-100, vx:80, va:0.2 });

      buttons.querySelector('#search-btn').addEventListener('click', ()=>{
        const q = box.querySelector('#q').value.trim();
        if(q) spawnResults(q);
      });
      buttons.querySelector('#lucky').addEventListener('click', ()=>{
        window.open('https://en.wikipedia.org/wiki/Special:Random', '_blank');
      });
    }, 500);

    box.addEventListener('submit', async (e)=>{
      e.preventDefault();
      const q = box.querySelector('#q').value.trim();
      if(!q) return;
      spawnResults(q);
    });

    return body;
  }

  // vis søkeresultater
  async function spawnResults(query){
    if(query.toLowerCase() === 'chris'){
      showChrisPage();
      return;
    }

    const googleUrl = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
    window.open(googleUrl, '_blank');
  }

  // viser en blokk om meg
  function showChrisPage(){
    const chrisPage = document.createElement('div');
    chrisPage.className = 'chris-page card';
    chrisPage.innerHTML = `
      <div style="padding: 20px; text-align: center; background: white; border-radius: 8px; max-width: 400px;">
        <h2 style="margin: 0 0 20px 0; color: #333;">Henrik</h2>
        <p style="margin: 10px 0; font-size: 16px; color: #666;">
          <strong>Alder:</strong> 17 år gammel
        </p>
        <p style="margin: 10px 0; font-size: 16px; color: #666;">
          <strong>Hobbier:</strong> Jeg trener vektløfting, spiller videospill, og programmerer.
        </p>
        <p style="margin: 10px 0; font-size: 16px; color: #666;">
          <strong>Språk:</strong> Kinesisk, Engelsk, Norsk, Tysk, Svensk
        </p>
        <p style="margin: 10px 0; font-size: 16px; color: #666;">
          <strong>Jobb:</strong> Bilmekaniker hos Bil & Lakkservice AS
        </p>
        <p style="margin: 10px 0 20px 0; font-size: 16px; color: #666;">
          <strong>Skole:</strong> Breivang VGS, linje: IT & Medieproduksjon
        </p>
        <img src="Image.png" alt="Henrik - Student på Breivang VGS IT og Medieproduksjon" style="max-width: 100%; height: auto; border-radius: 4px;">
      </div>
    `;

    createBody(chrisPage, {
      x: innerWidth/2 - 200,
      y: innerHeight/2 - 150,
      vy: -200,
      vx: (Math.random() - 0.5) * 100,
      va: 0.2
    });
  }

  makeLogo();
  makeSearch();

  // trekk objekter mot musepeker
  let pulling=false, pullX=0, pullY=0;
  worldEl.addEventListener('pointerdown', (e)=>{
    if(e.target.closest('.body')) return;
    pulling=true; pullX=e.clientX; pullY=e.clientY;
  });
  worldEl.addEventListener('pointermove', (e)=>{
    if(pulling){ pullX=e.clientX; pullY=e.clientY; }
  });
  worldEl.addEventListener('pointerup', ()=> pulling=false);
  setInterval(()=>{
    if(!pulling) return;
    for(const b of bodies){
      const dx=pullX-(b.x+b.w/2), dy=pullY-(b.y+b.h/2);
      const d=Math.hypot(dx,dy)+1;
      const f=12000/(d*d);
      b.vx += f*dx; b.vy += f*dy;
    }
  }, 40);

  // dark mode funksjonalitet
  let isDarkMode = false;
  const darkModeToggle = document.getElementById('darkModeToggle');
  const sunIcon = document.getElementById('sunIcon');
  const moonIcon = document.getElementById('moonIcon');

  function toggleDarkMode() {
    isDarkMode = !isDarkMode;

    if (isDarkMode) {
      document.body.style.backgroundColor = '#121212';
      document.body.style.color = '#ffffff';
      darkModeToggle.style.background = '#333';
      darkModeToggle.style.border = '1px solid #555';
      sunIcon.style.display = 'none';
      moonIcon.style.display = 'block';
      moonIcon.style.fill = '#fff';

      document.querySelectorAll('.card').forEach(card => {
        card.style.backgroundColor = '#1e1e1e';
        card.style.color = '#ffffff';
        card.style.border = '1px solid #333';

        const inputs = card.querySelectorAll('input');
        inputs.forEach(input => {
          input.style.backgroundColor = '#333';
          input.style.color = '#ffffff';
          input.style.border = '1px solid #555';
        });

        const divs = card.querySelectorAll('div');
        divs.forEach(div => {
          div.style.backgroundColor = '#1e1e1e';
          div.style.color = '#ffffff';
        });
      });
    } else {
      document.body.style.backgroundColor = '#ffffff';
      document.body.style.color = '#000000';
      darkModeToggle.style.background = '#f8f9fa';
      darkModeToggle.style.border = '1px solid #dadce0';
      sunIcon.style.display = 'block';
      moonIcon.style.display = 'none';
      sunIcon.style.fill = '#333';

      document.querySelectorAll('.card').forEach(card => {
        card.style.backgroundColor = '#ffffff';
        card.style.color = '#000000';
        card.style.border = '1px solid #dadce0';

        const inputs = card.querySelectorAll('input');
        inputs.forEach(input => {
          input.style.backgroundColor = '#ffffff';
          input.style.color = '#000000';
          input.style.border = '1px solid #dadce0';
        });

        const divs = card.querySelectorAll('div');
        divs.forEach(div => {
          div.style.backgroundColor = '#ffffff';
          div.style.color = '#000000';
        });
      });
    }
  }

  darkModeToggle.addEventListener('click', toggleDarkMode);

  // cursor trail effekt
  let trailTimeout;
  document.addEventListener('mousemove', (e) => {
    if(trailTimeout) return;

    trailTimeout = setTimeout(() => {
      const trail = document.createElement('div');
      trail.className = 'cursor-trail';
      trail.style.left = e.clientX + 'px';
      trail.style.top = e.clientY + 'px';
      document.body.appendChild(trail);

      setTimeout(() => trail.remove(), 800);
      trailTimeout = null;
    }, 50);
  });

  // click ripple effekt
  document.addEventListener('click', (e) => {
    const ripple = document.createElement('div');
    ripple.className = 'click-ripple';
    ripple.style.left = (e.clientX - 50) + 'px';
    ripple.style.top = (e.clientY - 50) + 'px';
    document.body.appendChild(ripple);

    setTimeout(() => ripple.remove(), 1000);
  });

  // wave effekt - optimalisert
  const waveCanvas = document.getElementById('wave-canvas');
  const wctx = waveCanvas.getContext('2d');
  waveCanvas.width = innerWidth;
  waveCanvas.height = innerHeight;

  let waveOffset = 0;
  let waveFrameCount = 0;

  function drawWaves() {
    waveFrameCount++;

    // skip frames for ytelse
    if(waveFrameCount % 2 !== 0) {
      requestAnimationFrame(drawWaves);
      return;
    }

    wctx.clearRect(0, 0, waveCanvas.width, waveCanvas.height);

    // tegn 2 bolger istedenfor 3
    for(let i = 0; i < 2; i++) {
      wctx.beginPath();
      wctx.moveTo(0, waveCanvas.height / 2);

      // tegn hver 10. pixel for ytelse
      for(let x = 0; x < waveCanvas.width; x += 10) {
        const y = waveCanvas.height / 2 + Math.sin((x + waveOffset + i * 100) * 0.01) * (40 + i * 25) + Math.cos((x + waveOffset * 1.5) * 0.008) * 15;
        wctx.lineTo(x, y);
      }

      wctx.lineTo(waveCanvas.width, waveCanvas.height);
      wctx.lineTo(0, waveCanvas.height);
      wctx.closePath();

      const gradient = wctx.createLinearGradient(0, 0, 0, waveCanvas.height);
      gradient.addColorStop(0, `rgba(100, 200, 255, ${0.08 - i * 0.02})`);
      gradient.addColorStop(1, `rgba(0, 255, 136, ${0.15 - i * 0.04})`);
      wctx.fillStyle = gradient;
      wctx.fill();
    }

    waveOffset += 3;
    requestAnimationFrame(drawWaves);
  }

  drawWaves();

  window.addEventListener('resize', () => {
    waveCanvas.width = innerWidth;
    waveCanvas.height = innerHeight;
  });

  // partikkel effekt
  const particleCanvas = document.getElementById('particles');
  const pctx = particleCanvas.getContext('2d');
  particleCanvas.width = innerWidth;
  particleCanvas.height = innerHeight;

  const particles = [];
  const particleCount = 60;

  // lag partikler
  for(let i = 0; i < particleCount; i++) {
    particles.push({
      x: Math.random() * innerWidth,
      y: Math.random() * innerHeight,
      vx: (Math.random() - 0.5) * 2,
      vy: (Math.random() - 0.5) * 2,
      size: Math.random() * 3 + 2,
      color: `hsl(${Math.random() * 60 + 160}, 80%, 65%)`,
      alpha: Math.random() * 0.6 + 0.4,
      pulseSpeed: Math.random() * 0.03 + 0.01,
      pulsePhase: Math.random() * Math.PI * 2
    });
  }

  // animer partikler - optimalisert
  let frameCount = 0;
  function animateParticles() {
    frameCount++;
    pctx.clearRect(0, 0, particleCanvas.width, particleCanvas.height);

    particles.forEach(p => {
      p.x += p.vx;
      p.y += p.vy;

      if(p.x < 0 || p.x > innerWidth) p.vx *= -1;
      if(p.y < 0 || p.y > innerHeight) p.vy *= -1;

      // pulserende storrelse
      p.pulsePhase += p.pulseSpeed;
      const pulseSize = p.size * (1 + Math.sin(p.pulsePhase) * 0.2);

      // tegn partikkel med glow - forenklet
      pctx.shadowBlur = 15;
      pctx.shadowColor = p.color;
      pctx.beginPath();
      pctx.arc(p.x, p.y, pulseSize, 0, Math.PI * 2);
      pctx.fillStyle = p.color;
      pctx.globalAlpha = p.alpha;
      pctx.fill();
      pctx.shadowBlur = 0;
    });

    // tegn linjer mellom naerliggende partikler - skip hver annen frame for ytelse
    if(frameCount % 2 === 0) {
      particles.forEach((p1, i) => {
        particles.slice(i + 1).forEach(p2 => {
          const dx = p1.x - p2.x;
          const dy = p1.y - p2.y;
          const dist = Math.sqrt(dx * dx + dy * dy);

          if(dist < 150) {
            pctx.beginPath();
            pctx.moveTo(p1.x, p1.y);
            pctx.lineTo(p2.x, p2.y);
            const opacity = (1 - dist / 150) * 0.3;
            pctx.strokeStyle = `rgba(100, 200, 255, ${opacity})`;
            pctx.globalAlpha = 1;
            pctx.lineWidth = 1.5;
            pctx.stroke();
          }
        });
      });
    }

    requestAnimationFrame(animateParticles);
  }

  animateParticles();

  window.addEventListener('resize', () => {
    particleCanvas.width = innerWidth;
    particleCanvas.height = innerHeight;
  });

  // animasjon for om meg seksjon
  const scrollContainer = document.getElementById('scroll-container');
  const aboutSection = document.getElementById('about-section');
  const googleSection = document.getElementById('google-section');
  const aboutFrame = document.getElementById('about-frame');
  let lastScrollTop = 0;

  scrollContainer.addEventListener('scroll', () => {
    const scrollTop = scrollContainer.scrollTop;
    const windowHeight = window.innerHeight;
    const scrollProgress = Math.min(scrollTop / windowHeight, 1);

    // google seksjon parallax og transformasjon - smooth
    requestAnimationFrame(() => {
      if (scrollProgress > 0.05) {
        googleSection.classList.add('scrolling');
        googleSection.style.transform = `
          perspective(1000px)
          rotateX(${-10 * scrollProgress}deg)
          scale(${1 - scrollProgress * 0.1})
          translateY(${-scrollTop * 0.4}px)
        `;
        googleSection.style.filter = `blur(${6 * scrollProgress}px) brightness(${1 - scrollProgress * 0.3})`;
        googleSection.style.opacity = 1 - scrollProgress * 0.6;
      } else {
        googleSection.classList.remove('scrolling');
        googleSection.style.transform = '';
        googleSection.style.filter = '';
        googleSection.style.opacity = '1';
      }

      // om meg seksjon animasjon
      if (scrollProgress > 0.2) {
        aboutSection.classList.add('visible');
        const aboutProgress = Math.min((scrollProgress - 0.2) / 0.8, 1);
        aboutFrame.style.transform = `scale(${0.95 + aboutProgress * 0.05})`;
      } else {
        aboutSection.classList.remove('visible');
      }
    });

    // sparkle effekt når du scroller
    if(Math.abs(scrollTop - lastScrollTop) > 10) {
      createSparkle(Math.random() * innerWidth, Math.random() * innerHeight);
      lastScrollTop = scrollTop;
    }
  });

  // sparkle effekt
  function createSparkle(x, y) {
    const sparkle = document.createElement('div');
    sparkle.style.position = 'fixed';
    sparkle.style.left = x + 'px';
    sparkle.style.top = y + 'px';
    sparkle.style.width = '4px';
    sparkle.style.height = '4px';
    sparkle.style.borderRadius = '50%';
    sparkle.style.background = `hsl(${Math.random() * 60 + 160}, 100%, 70%)`;
    sparkle.style.boxShadow = `0 0 10px hsl(${Math.random() * 60 + 160}, 100%, 70%)`;
    sparkle.style.pointerEvents = 'none';
    sparkle.style.zIndex = '9996';
    sparkle.style.animation = 'sparkleFade 1s ease-out forwards';
    document.body.appendChild(sparkle);

    setTimeout(() => sparkle.remove(), 1000);
  }

  // sparkle animasjon
  const sparkleStyle = document.createElement('style');
  sparkleStyle.textContent = `
    @keyframes sparkleFade {
      0% {
        transform: scale(0) translateY(0);
        opacity: 1;
      }
      100% {
        transform: scale(2) translateY(-30px);
        opacity: 0;
      }
    }
  `;
  document.head.appendChild(sparkleStyle);
  </script>
</body>
</html>